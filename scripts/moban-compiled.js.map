{"version":3,"sources":["moban.js"],"names":[],"mappings":";;AAAA;;;AAGA,IAAI,oIAAJ;;AAQA,KAAK,MAAL;AACA,KAAI,IAAI,IAAE,CAAV,EAAa,IAAI,KAAK,QAAL,CAAc,MAA/B,EAAuC,GAAvC,EAA4C;AACxC,SAAK,MAAL;AACA,SAAK,KAAK,QAAL,CAAc,CAAd,CAAL;AACA,SAAK,OAAL;AACH;AACD,KAAK,OAAL;;AAEA,IAAI,WAAW,aAAf;AACA,IAAI,OAAO,iBAAX;;AAEA,WAAW,SACN,OADM,CACE,QADF,EACY,gCADZ,EAEN,OAFM,CAEE,IAFF,EAEQ,sBAFR,CAAX;;AAIA,WAAW,WAAW,QAAX,GAAsB,KAAjC;;AAEA,IAAI,kHAQC,QARD,6BAAJ;;AAaA;;AAEA,SAAS,OAAT,CAAiB,QAAjB,EAA0B;AACtB,QAAI,WAAW,aAAf;AACA,QAAI,OAAO,iBAAX;;AAEA,eAAW,SACN,OADM,CACE,QADF,EACY,gCADZ,EAEN,OAFM,CAEE,IAFF,EAEQ,sBAFR,CAAX;;AAIA,eAAW,WAAW,QAAX,GAAsB,KAAjC;;AAEA,QAAI,4HAQD,QARC,iCAAJ;;AAaA,WAAO,MAAP;AACH;;AAED,IAAI,QAAQ,KAAK,QAAQ,QAAR,CAAL,CAAZ;AACA,IAAI,SAAJ,GAAgB,MAAM,EAAE,UAAU,CAAE,OAAF,EAAW,KAAX,EAAkB,SAAlB,CAAZ,EAAN,CAAhB;AACA;AACA;AACA;AACA;AACA","file":"moban-compiled.js","sourcesContent":["/**\r\n * Created by Administrator on 2016/8/19.\r\n */\r\nvar template = `\r\n<ul>\r\n  <% for(var i=0; i < data.supplies.length; i++) { %>\r\n    <li><%= data.supplies[i] %></li>\r\n  <% } %>\r\n</ul>\r\n`;\r\n\r\necho('<ul>');\r\nfor(var i=0; i < data.supplies.length; i++) {\r\n    echo('<li>');\r\n    echo(data.supplies[i]);\r\n    echo('</li>');\r\n};\r\necho('</ul>');\r\n\r\nvar evalExpr = /<%=(.+?)%>/g;\r\nvar expr = /<%([\\s\\S]+?)%>/g;\r\n\r\ntemplate = template\r\n    .replace(evalExpr, '`); \\n  echo( $1 ); \\n  echo(`')\r\n    .replace(expr, '`); \\n $1 \\n  echo(`');\r\n\r\ntemplate = 'echo(`' + template + '`);';\r\n\r\nvar script =\r\n    `(function parse(data){\r\n  var output = \"\";\r\n\r\n  function echo(html){\r\n    output += html;\r\n  }\r\n\r\n  ${ template }\r\n\r\n  return output;\r\n})`;\r\n\r\n//return scripts;\r\n\r\nfunction compile(template){\r\n    var evalExpr = /<%=(.+?)%>/g;\r\n    var expr = /<%([\\s\\S]+?)%>/g;\r\n\r\n    template = template\r\n        .replace(evalExpr, '`); \\n  echo( $1 ); \\n  echo(`')\r\n        .replace(expr, '`); \\n $1 \\n  echo(`');\r\n\r\n    template = 'echo(`' + template + '`);';\r\n\r\n    var script =\r\n        `(function parse(data){\r\n    var output = \"\";\r\n\r\n    function echo(html){\r\n      output += html;\r\n    }\r\n\r\n    ${ template }\r\n\r\n    return output;\r\n  })`;\r\n\r\n    return script;\r\n}\r\n\r\nvar parse = eval(compile(template));\r\ndiv.innerHTML = parse({ supplies: [ \"broom\", \"mop\", \"cleaner\" ] });\r\n//   <ul>\r\n//     <li>broom</li>\r\n//     <li>mop</li>\r\n//     <li>cleaner</li>\r\n//   </ul>"]}